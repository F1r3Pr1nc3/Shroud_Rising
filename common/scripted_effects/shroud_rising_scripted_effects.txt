# Call this from the Situation, at the end
cleanup_cult_uprising_situation = {
	owner = {
		every_owned_planet = {
			limit = { has_modifier = cult_pleasure }
			remove_modifier = cult_pleasure
		}
		every_owned_planet = {
			limit = { has_modifier = cult_disappearances }
			remove_modifier = cult_disappearances
		}
		every_owned_planet = {
			limit = { has_modifier = cult_sacrifices }
			remove_modifier = cult_sacrifices
		}
		every_owned_planet = {
			limit = { has_planet_flag = cult_uprising_planet }
			remove_planet_flag = cult_uprising_planet
		}

	}

}
# TODO
# add_random_character_trait = {
# 	save_event_target_as = corrupted_leader
# 	random_list = {
# 			8 = {
# 				add_trait_no_notify = leader_trait_cultist_whisperers
# 				create_message = {
# 					type = MESSAGE_LEADER_CORRUPTED
# 					localization =  MESSAGE_LEADER_CORRUPTED_DESC
# 					days = 20 # @toast_message_days
# 					target = event_target:corrupted_leader
# 					variable = {
# 						type = name
# 						localization = LEADER
# 						scope = event_target:corrupted_leader
# 					}
# 					variable = {
# 						key = "border"
# 						value = "GFX_border_veteran"
# 					}
# 				}
# 			}
# 			8 = {
# 				add_trait_no_notify = leader_trait_cultist_eater
# 				create_message = {
# 					type = MESSAGE_LEADER_CORRUPTED
# 					localization =  MESSAGE_LEADER_CORRUPTED_DESC
# 					days = 20 # @toast_message_days
# 					target = event_target:corrupted_leader
# 					variable = {
# 						type = name
# 						localization = LEADER
# 						scope = event_target:corrupted_leader
# 					}
# 					variable = {
# 						key = "border"
# 						value = "GFX_border_veteran"
# 					}
# 				}
# 			}
# 			8 = {
# 				add_trait_no_notify = leader_trait_cultist_composer
# 				create_message = {
# 					type = MESSAGE_LEADER_CORRUPTED
# 					localization =  MESSAGE_LEADER_CORRUPTED_DESC
# 					days = 20 # @toast_message_days
# 					target = event_target:corrupted_leader
# 					variable = {
# 						type = name
# 						localization = LEADER
# 						scope = event_target:corrupted_leader
# 					}
# 					variable = {
# 						key = "border"
# 						value = "GFX_border_veteran"
# 					}
# 				}
# 			}
# 			8 = {
# 				add_trait_no_notify = leader_trait_cultist_instrument
# 				# Notify of corruption
# 				create_message = {
# 					type = MESSAGE_LEADER_CORRUPTED
# 					localization =  MESSAGE_LEADER_CORRUPTED_DESC
# 					days = 20 # @toast_message_days
# 					target = event_target:corrupted_leader
# 					variable = {
# 						type = name
# 						localization = LEADER
# 						scope = event_target:corrupted_leader
# 					}
# 					variable = {
# 						key = "border"
# 						value = "GFX_border_veteran"
# 					}
# 				}
# 			}
# 			0 = {
# 				add_trait = leader_trait_loyalist
# 			}
# 			0 = {
# 				add_trait = leader_trait_shroud_inquisitor
# 			}
# 	}
# }

add_random_negative_character_trait = {
	save_event_target_as = corrupted_leader
	random_list = {
			25 = {
				add_trait_no_notify = leader_trait_cultist_whisperers
				# Notify of corruption
				create_message = {
					type = MESSAGE_LEADER_CORRUPTED
					localization =  MESSAGE_LEADER_CORRUPTED_DESC
					days = 20 # @toast_message_days
					target = event_target:corrupted_leader
					variable = {
						type = name
						localization = LEADER
						scope = event_target:corrupted_leader
					}
					variable = {
						key = "border"
						value = "GFX_border_veteran"
					}
				}
			}
			25 = {
				add_trait_no_notify = leader_trait_cultist_eater
				# Notify of corruption
				create_message = {
					type = MESSAGE_LEADER_CORRUPTED
					localization =  MESSAGE_LEADER_CORRUPTED_DESC
					days = 20 # @toast_message_days
					target = event_target:corrupted_leader
					variable = {
						type = name
						localization = LEADER
						scope = event_target:corrupted_leader
					}
					variable = {
						key = "border"
						value = "GFX_border_veteran"
					}
				}
			}
			25 = {
				add_trait_no_notify = leader_trait_cultist_composer
				# Notify of corruption
				create_message = {
					type = MESSAGE_LEADER_CORRUPTED
					localization =  MESSAGE_LEADER_CORRUPTED_DESC
					days = 20 # @toast_message_days
					target = event_target:corrupted_leader
					variable = {
						type = name
						localization = LEADER
						scope = event_target:corrupted_leader
					}
					variable = {
						key = "border"
						value = "GFX_border_veteran"
					}
				}
			}
			25 = {
				add_trait_no_notify = leader_trait_cultist_instrument
				# Notify of corruption
				create_message = {
					type = MESSAGE_LEADER_CORRUPTED
					localization =  MESSAGE_LEADER_CORRUPTED_DESC
					days = 20 # @toast_message_days
					target = event_target:corrupted_leader
					variable = {
						type = name
						localization = LEADER
						scope = event_target:corrupted_leader
					}
					variable = {
						key = "border"
						value = "GFX_border_veteran"
					}
				}
			}
	}
}

# add_random_positive_character_trait = {
# 	random_list = {
# 		70 = { add_trait = leader_trait_loyalist }
# 		30 = { add_trait = leader_trait_shroud_inquisitor }
# 	}
# }
